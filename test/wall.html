<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Re:View layout test</title>
	<link rel="stylesheet" href="../style/main.css" />
	<style>
	html, body {
		margin: 0;
		padding: 0;
		overflow: hidden;
		width: 100%;
		height: 100%;
		background: #e5e5e5;
	}

	.layout {
		position: absolute;
		top: 20px;
		left: 20px;
		right: 20px;
		bottom: 50px;
		border: 1px solid red;
		z-index: 3;
	}

	.controls {
		position: absolute;
		bottom: 10px;
		left: 50%;
		z-index: 2;
	}
	</style>
</head>
<body>
	<div class="layout">
	</div>
	<div class="controls">
		<button class="add">Add</button>
		<button class="remove">Remove</button>
	</div>
	<script src="../dist/index.js"></script>
	<script>
	(function() {
		var target = document.querySelector('.layout');
		var options = {
			usePageViewport: true,
			itemMargin: 20
		};
		var rect = {
			width: target.offsetWidth, 
			height: target.offsetHeight
		};
		var wall;

		document.querySelector('.add').onclick = () => {
			wall = reView.wall('inner.html', reView.devices, options);
			target.appendChild(wall.element);
			wall.show(rect).then(() => console.log('done!'));
		};
		document.querySelector('.remove').onclick = () => {
			wall.destroy().then(() => {
				target.removeChild(wall.element);
				wall = null;
			});
		};
	})();
	</script>
</body>
</html>